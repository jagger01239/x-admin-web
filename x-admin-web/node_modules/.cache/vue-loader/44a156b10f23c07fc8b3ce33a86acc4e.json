{"remainingRequest":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ZJNU\\SoftwareProject\\x-admin-web\\src\\views\\targetDetection\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\src\\views\\targetDetection\\index.vue","mtime":1701656784024},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJvdXNlbCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2x1bmJvdHUnCmltcG9ydCBSZXF1ZXN0IGZyb20gIkAvdXRpbHMvcmVxdWVzdCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFyZ2V0RGV0ZWN0aW9uJywKICBjb21wb25lbnRzOnsKICAgIENhcm91c2VsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgZmlsZUxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnZm9vZC5qcGVnJywKICAgICAgICAgIHVybDogJ2h0dHBzOi8vZnVzczEwLmVsZW1lY2RuLmNvbS8zLzYzLzRlN2YzYTE1NDI5YmZkYTk5YmNlNDJhMThjZGQxanBlZy5qcGVnP2ltYWdlTW9ncjIvdGh1bWJuYWlsLzM2MHgzNjAvZm9ybWF0L3dlYnAvcXVhbGl0eS8xMDAnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAnZm9vZDIuanBlZycsCiAgICAgICAgICB1cmw6ICdodHRwczovL2Z1c3MxMC5lbGVtZWNkbi5jb20vMy82My80ZTdmM2ExNTQyOWJmZGE5OWJjZTQyYTE4Y2RkMWpwZWcuanBlZz9pbWFnZU1vZ3IyL3RodW1ibmFpbC8zNjB4MzYwL2Zvcm1hdC93ZWJwL3F1YWxpdHkvMTAwJwogICAgICAgIH0KICAgICAgXSwKICAgICAgaXRlbXM6IFsKICAgICAgICB7CiAgICAgICAgICBpbWFnZTogJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy84MDAvNDAwP3JhbmRvbT0xJywKICAgICAgICB9LAogICAgICBdLAogICAgICBpbnRlcnZhbDogNTAwMDAwMAogICAgfQogIH0sY3JlYXRlZCgpIHsKICAgIHRoaXMuZmlsZUxpc3QgPSBbXQogICAgdGhpcy5pdGVtcyA9IFtdCiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSZW1vdmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QpOwogICAgfSwKICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgewogICAgICBjb25zb2xlLmxvZygi5rWP6KeIIikKICAgICAgY29uc29sZS5sb2coZmlsZSk7CiAgICB9LAogICAgaGFuZGxlVXBsb2FkKHJlc3BvbnNlLCBmaWxlKXsKICAgICAgY29uc29sZS5sb2coZmlsZSkKICAgICAgdGhpcy5maWxlTGlzdC5wdXNoKHtuYW1lOiBmaWxlLm5hbWUsdXJsOiBmaWxlLnJlc3BvbnNlfSkKICAgIH0sCiAgICBzdGFydEppYW5jZSgpewogICAgICBpZiAodGhpcy5maWxlTGlzdC5sZW5ndGg9PTApewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35LiK5Lyg54Wn54mH77yB77yBIikKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gMzA7CiAgICAgICAgdmFyIHN0ciA9ICIiOwogICAgICAgIGZvciAodmFyIGk9MDtpIDwgdGhpcy5maWxlTGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgIGlmIChpICE9IHRoaXMuZmlsZUxpc3QubGVuZ3RoLTEpCiAgICAgICAgICAgIHN0ciA9IHN0ciArIHRoaXMuZmlsZUxpc3RbaV0udXJsICsgIiMiOwogICAgICAgICAgZWxzZQogICAgICAgICAgICBzdHIgPSBzdHIgKyB0aGlzLmZpbGVMaXN0W2ldLnVybAogICAgICAgIH0KICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSA1MDsKICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImNvbnRlbnQiLCBzdHIpOwogICAgICAgIFJlcXVlc3QucG9zdCgnL2ppYW5jZS9zdGFydGppYW5jZScsZm9ybURhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDgwOwogICAgICAgICAgdmFyIHJlc3MgPSByZXMuc3BsaXQoJ0AnKQogICAgICAgICAgZm9yICh2YXIgaj0wO2o8cmVzcy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKHtpbWFnZTogcmVzc1tqXX0pCiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAxMDA7CiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/targetDetection","sourcesContent":["<template>\n  <div style=\"width: 100%;height: 100%;\">\n    <h1>目标检测</h1>\n\n    <el-upload\n      class=\"upload-demo\"\n      action=\"http://localhost:9999/file/upload\"\n      :on-preview=\"handlePreview\"\n      :on-remove=\"handleRemove\"\n      :file-list=\"fileList\"\n      :on-success=\"handleUpload\"\n      list-type=\"picture\">\n      <el-button size=\"medium \" type=\"primary\">点击上传</el-button>\n      <div slot=\"tip\" class=\"el-upload__tip\" style=\"font-size: 15px;font-width: 300px;\">只能上传jpg/png文件，且不超过500kb</div>\n    </el-upload>\n\n    <el-button  size=\"medium \" type=\"success\" style=\"margin-top: 100px\" @click=\"startJiance\">开始检测</el-button>\n    <h2>检测结果</h2>\n    <el-progress :text-inside=\"true\" :stroke-width=\"24\" :percentage=percentage status=\"success\" style=\"width: 500px\"></el-progress>\n    <Carousel :items=\"items\" :interval=\"interval\" style=\"height: 700px;width: 500px;margin-top: 30px;\" />\n\n  </div>\n\n</template>\n\n<script>\nimport Carousel from '../../components/lunbotu'\nimport Request from \"@/utils/request\";\nexport default {\n  name: 'targetDetection',\n  components:{\n    Carousel\n  },\n  data() {\n    return {\n      percentage: 0,\n      fileList: [\n        {\n          name: 'food.jpeg',\n          url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'\n        },\n        {\n          name: 'food2.jpeg',\n          url: 'https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100'\n        }\n      ],\n      items: [\n        {\n          image: 'https://picsum.photos/800/400?random=1',\n        },\n      ],\n      interval: 5000000\n    }\n  },created() {\n    this.fileList = []\n    this.items = []\n  },\n  methods: {\n    handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePreview(file) {\n      console.log(\"浏览\")\n      console.log(file);\n    },\n    handleUpload(response, file){\n      console.log(file)\n      this.fileList.push({name: file.name,url: file.response})\n    },\n    startJiance(){\n      if (this.fileList.length==0){\n          this.$message.error(\"请上传照片！！\")\n      }else{\n        this.percentage = 30;\n        var str = \"\";\n        for (var i=0;i < this.fileList.length;i++){\n          if (i != this.fileList.length-1)\n            str = str + this.fileList[i].url + \"#\";\n          else\n            str = str + this.fileList[i].url\n        }\n        this.percentage = 50;\n        let formData = new FormData();\n        formData.append(\"content\", str);\n        Request.post('/jiance/startjiance',formData).then(res => {\n          console.log(res)\n          this.percentage = 80;\n          var ress = res.split('@')\n          for (var j=0;j<ress.length;j++){\n            this.items.push({image: ress[j]})\n          }\n          this.percentage = 100;\n        })\n      }\n    }\n  }\n}\n</script>\n"]}]}