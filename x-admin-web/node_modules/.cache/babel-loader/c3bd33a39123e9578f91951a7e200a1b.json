{"remainingRequest":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\babel-loader\\lib\\index.js!D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ZJNU\\SoftwareProject\\x-admin-web\\src\\views\\test\\test1.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\src\\views\\test\\test1.vue","mtime":1701656784392},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\babel.config.js","mtime":1701656787248},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\ZJNU\\SoftwareProject\\x-admin-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgZmlsZUFwaSBmcm9tICJAL2FwaS9maWxlTWFuYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtTGFiZWxXaWR0aDogIjEzMHB4IiwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICB0aXRsZTogIiIsCiAgICAgIHRvdGFsOiAwLAogICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sCiAgICAgIHNlYXJjaE1vZGVsOiB7CiAgICAgICAgcGFnZU5vOiAxLAogICAgICAgIHBhZ2VTaXplOiA1CiAgICAgIH0sCiAgICAgIGZpbGVMaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbEJhdGNoOiBmdW5jdGlvbiBkZWxCYXRjaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGlkcyA9IHRoaXMubXVsdGlwbGVTZWxlY3Rpb24ubWFwKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYuaWQ7CiAgICAgIH0pOyAvLyBbe30sIHt9LCB7fV0gPT4gWzEsMiwzXQogICAgICB0aGlzLiRjb25maXJtKCJcdTYwQThcdTc4NkVcdThCQTRcdTUyMjBcdTk2NjRcdTY1ODdcdTRFRjYgIi5jb25jYXQoaWRzLCAiID8iKSwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBmaWxlQXBpLmRlbEJhdGNoKGlkcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgaWYgKHJlcy5jb2RlID09ICcyMDAwMCcpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5om56YeP5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgICAgIF90aGlzLmdldEZpbGVMaXN0KCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcigi5om56YeP5Yig6Zmk5aSx6LSlIik7CiAgICAgICAgICAgIF90aGlzLmdldEZpbGVMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZUVuYWJsZTogZnVuY3Rpb24gY2hhbmdlRW5hYmxlKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgZmlsZUFwaS51cGRhdGVGaWxlKHJvdykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDAwMCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiAi5L+u5pS55oiQ5Yqf5ZWm77yBIgogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnlpLHotKXllabvvIEiCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGRvd25sb2FkOiBmdW5jdGlvbiBkb3dubG9hZCh1cmwpIHsKICAgICAgd2luZG93Lm9wZW4odXJsKTsKICAgIH0sCiAgICBoYW5kbGVJbXBvcnRTdWNjZXNzOiBmdW5jdGlvbiBoYW5kbGVJbXBvcnRTdWNjZXNzKCkgewogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgbWVzc2FnZTogIuWvvOWFpeaIkOWKn+WVpu+8gSIKICAgICAgfSk7CiAgICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICAgIH0sCiAgICBkZWxldGVGaWxlOiBmdW5jdGlvbiBkZWxldGVGaWxlKHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgiXHU2MEE4XHU3ODZFXHU4QkE0XHU1MjIwXHU5NjY0XHU2NTg3XHU0RUY2ICIuY29uY2F0KHJvdy5uYW1lLCAiID8iKSwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGZpbGVBcGkuZGVsZXRlRmlsZUJ5SWQocm93LmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5nZXRGaWxlTGlzdCgpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNpemVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgdGhpcy5zZWFyY2hNb2RlbC5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICB0aGlzLmdldEZpbGVMaXN0KCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTm8pIHsKICAgICAgdGhpcy5zZWFyY2hNb2RlbC5wYWdlTm8gPSBwYWdlTm87CiAgICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgIH0sCiAgICBnZXRGaWxlTGlzdDogZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBmaWxlQXBpLmdldEZpbGVMaXN0KHRoaXMuc2VhcmNoTW9kZWwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LmZpbGVMaXN0ID0gcmVzcG9uc2UuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzNC50b3RhbCA9IHJlc3BvbnNlLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIHByZXZpZXc6IGZ1bmN0aW9uIHByZXZpZXcodXJsKSB7CiAgICAgIHdpbmRvdy5vcGVuKCdodHRwOi8vbG9jYWxob3N0OjgwMTIvb25saW5lUHJldmlldz91cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cuYnRvYSh1cmwpKSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRGaWxlTGlzdCgpOwogIH0KfTs="},{"version":3,"names":["fileApi","data","formLabelWidth","dialogFormVisible","title","total","multipleSelection","searchModel","pageNo","pageSize","fileList","methods","delBatch","_this","ids","map","v","id","$confirm","concat","confirmButtonText","cancelButtonText","type","then","res","console","log","code","$message","success","getFileList","error","changeEnable","row","_this2","updateFile","response","message","download","url","window","open","handleImportSuccess","deleteFile","_this3","name","deleteFileById","catch","handleSizeChange","handleCurrentChange","handleSelectionChange","val","_this4","records","preview","encodeURIComponent","btoa","created"],"sources":["src/views/test/test1.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 搜索栏 -->\n    <el-card id=\"search\">\n      <el-row>\n        <el-col :span=\"20\">\n          <el-input\n            v-model=\"searchModel.name\"\n            placeholder=\"文件名\"\n            clearable>\n          </el-input>\n          <el-button\n            @click=\"getFileList\"\n            type=\"primary\"\n            round\n            icon=\"el-icon-search\">查询\n          </el-button>\n          <el-button\n            @click=\"delBatch\"\n            type=\"danger\"\n            round\n            icon=\"el-icon-delete-solid\">批量删除\n          </el-button>\n\n          <el-upload style=\"display: inline-block; margin-left:15px\"\n                     action=\"http://localhost:9999/file/upload\"\n                     :show-file-list=\"false\"\n                     :on-success=\"handleImportSuccess\">\n            <el-button\n              type=\"success\"\n              round\n              icon=\"el-icon-plus\">新增文件\n            </el-button>\n          </el-upload>\n        </el-col>\n      </el-row>\n    </el-card>\n\n\n    <!-- 结果列表 -->\n    <el-card>\n      <el-table :data=\"fileList\"  @selection-change=\"handleSelectionChange\" stripe style=\"width: 100%\">\n        <el-table-column type=\"selection\"  width=\"55\">\n        </el-table-column>\n        <el-table-column prop=\"id\" label=\"文件ID\" width=\"180\">\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"文件名\" width=\"180\">\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"文件类型\" width=\"180\">\n        </el-table-column>\n        <el-table-column prop=\"size\" label=\"文件大小(kb)\" width=\"180\">\n        </el-table-column>\n        <el-table-column label=\"下载\">\n          <template slot-scope=\"scope\">\n             <el-button type=\"primary\" @click=\"download(scope.row.url)\">下载</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"预览\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"warning\" @click=\"preview(scope.row.url)\">预览</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"启用\">\n            <template slot-scope=\"scope\">\n                <el-switch v-model=\"scope.row.enable\" active-color=\"#13ce66\" inactive-color=\"#CCC\" @change=\"changeEnable(scope.row)\"></el-switch>\n            </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <el-button @click=\"deleteFile(scope.row)\" type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" circle></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n\n    <!-- 分页组件 -->\n    <el-pagination\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"searchModel.pageNo\"\n      :page-sizes=\"[5, 10, 20, 50]\"\n      :page-size=\"searchModel.pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport fileApi from \"@/api/fileManage\";\n\nexport default {\n  data() {\n    return {\n      formLabelWidth: \"130px\",\n      dialogFormVisible: false,\n      title: \"\",\n      total: 0,\n      multipleSelection: [],\n      searchModel: {\n        pageNo: 1,\n        pageSize: 5,\n      },\n      fileList: [],\n    };\n  },\n  methods: {\n    delBatch(){\n      let ids = this.multipleSelection.map(v => v.id)  // [{}, {}, {}] => [1,2,3]\n      this.$confirm(`您确认删除文件 ${ids} ?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => fileApi.delBatch(ids).then(res => {\n        console.log(res)\n        if (res.code == '20000') {\n          this.$message.success(\"批量删除成功\")\n          this.getFileList()\n        } else {\n          this.$message.error(\"批量删除失败\")\n          this.getFileList()\n        }\n      }))\n    },\n    changeEnable(row){\n      fileApi.updateFile(row).then(response =>{\n        if (response.code == 20000){\n          this.$message({\n            type: \"success\",\n            message: \"修改成功啦！\"\n          })\n        }else {\n          this.$message({\n            type: \"error\",\n            message: \"修改失败啦！\"\n          })\n        }\n      })\n    },\n    download(url){\n      window.open(url);\n    },\n    handleImportSuccess(){\n      this.$message({\n        type: 'success',\n        message: \"导入成功啦！\"\n      })\n      this.getFileList();\n    },\n    deleteFile(row){\n      this.$confirm(`您确认删除文件 ${row.name} ?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        fileApi.deleteFileById(row.id).then(response => {\n          this.$message({\n            type: 'success',\n            message: response.message\n          });\n          this.getFileList();\n        });\n\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    handleSizeChange(pageSize) {\n      this.searchModel.pageSize = pageSize;\n      this.getFileList();\n    },\n    handleCurrentChange(pageNo) {\n      this.searchModel.pageNo = pageNo;\n      this.getFileList();\n    },\n    handleSelectionChange(val){\n      this.multipleSelection = val\n    },\n    getFileList() {\n      fileApi.getFileList(this.searchModel).then((response) => {\n        this.fileList = response.data.records;\n        this.total = response.data.total;\n      });\n    },\n    preview(url) {\n      window.open('http://localhost:8012/onlinePreview?url=' + encodeURIComponent(window.btoa((url))))\n    },\n  },\n  created() {\n    this.getFileList();\n  },\n};\n\n</script>\n\n<style>\n#search .el-input {\n  width: 200px;\n  margin-right: 10px;\n}\n.el-dialog .el-input {\n  width: 85%;\n}\n</style>\n"],"mappings":"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"}]}